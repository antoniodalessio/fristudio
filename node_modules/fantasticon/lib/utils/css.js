"use strict";
var _a;
exports.__esModule = true;
exports.renderSrcAttribute = void 0;
var path_1 = require("path");
var hash_1 = require("./hash");
var misc_1 = require("../types/misc");
var renderSrcOptions = (_a = {},
    _a[misc_1.FontAssetType.EOT] = {
        formatValue: 'embedded-opentype',
        getSuffix: function () { return '#iefix'; }
    },
    _a[misc_1.FontAssetType.WOFF2] = { formatValue: 'woff2' },
    _a[misc_1.FontAssetType.WOFF] = { formatValue: 'woff' },
    _a[misc_1.FontAssetType.TTF] = { formatValue: 'truetype' },
    _a[misc_1.FontAssetType.SVG] = { formatValue: 'svg', getSuffix: function (name) { return "#" + name; } },
    _a);
exports.renderSrcAttribute = function (_a, font) {
    var name = _a.name, fontTypes = _a.fontTypes, fontsUrl = _a.fontsUrl;
    return fontTypes
        .map(function (fontType) {
        var _a = renderSrcOptions[fontType], formatValue = _a.formatValue, getSuffix = _a.getSuffix;
        var hash = hash_1.getHash(font.toString('utf8'));
        var suffix = getSuffix ? getSuffix(name) : '';
        return [
            'url("',
            path_1.join(fontsUrl || '.', name) + "." + fontType + "?" + hash + suffix,
            "\") format(\"" + formatValue + "\")"
        ].join('');
    })
        .join(',\n');
};
//# sourceMappingURL=css.js.map